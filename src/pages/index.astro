---
import Layout from '@/layouts/Layout.astro';
import { getCollection } from 'astro:content';
import Hero from '@/components/articles/Hero.astro';
import ArticleGrid from '@/components/articles/ArticleGrid.astro';

const allArticles = await getCollection('articles');
const articles = allArticles.map((entry) => ({
  ...entry.data,
  content: entry.render(),
  slug: entry.slug,
})).sort((a, b) => a.title.localeCompare(b.title));
---

<Layout title="SalakCode">
  <div class="min-h-screen">
    <Hero />

    <section class="py-20 bg-gray-50/50 dark:bg-gray-950/50">
      <div class="container mx-auto px-4 sm:px-6 lg:px-8">
        <div class="mb-10">
          <h2 class="text-3xl md:text-4xl font-bold text-gray-900 dark:text-gray-100 mb-4">
            All Topics
          </h2>
          <p class="text-lg text-gray-600 dark:text-gray-400">
            Browse our collection of {articles.length} frontend engineering topics
          </p>
        </div>

        <ArticleGrid articles={articles} />
      </div>
    </section>
  </div>
</Layout>
